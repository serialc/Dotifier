<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <link media="screen" type="text/css" href="css/bootstrap.min.css" rel="stylesheet">
        <link media="screen" type="text/css" href="css/dot.css" rel="stylesheet">
        <!-- <script src='js/d3.min.js'></script> -->
        <script src="js/FileSaver.js" type="text/javascript"> </script>
        <title>DOTifier Lab</title>
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-light flex-wrap py-3 border-bottom bg-light">
            <div class="container">
                <h1>DOTifier Lab</h1>
            </div>
        </nav>

        <div class='container mt-5'>
            <div class='row'>
                <div class='col-sm-6'>
                    <p>DOTifier Lab allows you to create dotted or speckled designs. Using rectangles and circles to create zones of different dot colours you can create a vector design that will look sharp at all scales. See the examples below:
                    </p>
                </div>
                <div class='col-sm-6'>
                    <p>DOTifier Lab also allows pen-dotting. Click and drag your mouse across the canvas to paint dots for a great effect! See more examples below:</p>
                </div>
                <div class='col-sm-6'>
                    <img src='examples/olympics.png'> <img src='examples/coca.png'>
                </div>
                <div class='col-sm-6'>
                    <img src='examples/flower.png'>
                    <img src='examples/hotair.png'>
                    <img src='examples/tree.png'>
                </div>

                <div class='col-12 mt-3'>
                    <div class='bg-dark text-light px-2 pt-2'>
                        <h2>DOTifier</h2>
                    </div>
                </div>
                <div class='col-sm-6'>
                    <h4>Canvas Size</h4>
                    <p class="text-end">Width <input id='canvasw' class='w-50' type='text' maxlength='3' value='400' /></p>
                    <p class="text-end">Height <input id='canvash' class='w-50' type='text' maxlength='3' value='250' /></p>
                </div>
                <div class='col-sm-6'>
                    <h4>DOT Size</h4>
                    <p class="text-end">Minimum <input id='dotmin' class='w-50' type='text' maxlength='3' value='1' /></p>
                    <p class="text-end">Maximum <input id='dotmax' class='w-50' type='text' maxlength='3' value='8' /></p>
                    <p class="text-end">Buffer  <input id='dotbuf' class='w-50' type='text' maxlength='3' value='0' /></p>
                </div>
                <div class='col-12'>
                    <h3>Zone Dot Colours</h3>
                </div>
                <div class='col-sm-4 mt-3'>
                    <h5>Zone 1 Colours</h5>
                    <input id='z1c1' type='text' class='w-75 me-1' maxlength='6' value='06c' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z1c1')"><img src='palicon.png'/></a>
                    <input id='z1c2' type='text' class='w-75 me-1' maxlength='6' value='049' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z1c2')"><img src='palicon.png'/></a>
                    <input id='z1c3' type='text' class='w-75 me-1' maxlength='6' value='026' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z1c3')"><img src='palicon.png'/></a>

                </div>
                <div class='col-sm-4 mt-3'>
                    <h5>Zone 2 Colours</h5>
                    <input id='z2c1' type='text' class='w-75 me-1' maxlength='6' value='6c0' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z2c1')"><img src='palicon.png'/></a>
                    <input id='z2c2' type='text' class='w-75 me-1' maxlength='6' value='490' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z2c2')"><img src='palicon.png'/></a>
                    <input id='z2c3' type='text' class='w-75 me-1' maxlength='6' value='260' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z2c3')"><img src='palicon.png'/></a>

                </div>
                <div class='col-sm-4 mt-3'>
                    <h5>Zone 3 Colours</h5>
                    <input id='z3c1' class='w-75 me-1' type='text' maxlength='6' value='c06' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z3c1')"><img src='palicon.png'/></a>
                    <input id='z3c2' class='w-75 me-1' type='text' maxlength='6' value='904' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z3c2')"><img src='palicon.png'/></a>
                    <input id='z3c3' class='w-75 me-1' type='text' maxlength='6' value='602' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('z3c3')"><img src='palicon.png'/></a>
                </div>

                <div class='col-12 mt-3'></div>

                <div id='edit_zone_mode' class='col-12' style="display: none">
                    <div class='row'>
                        <div class='col-12'>
                            <h4 class='l'>Edit Zone Shapes Mode <small>[<a href='javascript:{}' onclick="DOT.toggleMode('draw')">Draw Mode</a>]</small></h4>
                        </div>
                        <div class='col-sm-4'>
                            <p id='z1shpop' class='p-2'>
                            <strong>Zone 1</strong><br/>
                            Add shape:<br/>
                            <input type='radio' name='zone_shp' id='z1c'/> <label for='z1c'>Circle</label><br/>
                            <input type='radio' name='zone_shp' id='z1r'/> <label for='z1r'>Rectangle</label> <a href='javascript:{}' onclick='makeBGRect()'>[fill]</a><br/>

                            Delete shape:<br/>
                            <select id='z1del'>
                                <option></option>
                                <option id='delall' value='-1'>Delete all</option>
                            </select>
                            </p>
                        </div>

                        <div class='col-sm-4'>
                            <p id='z2shpop' class='p-2'><strong>Zone 2</strong><br/>
                            Add shape:<br/>
                            <input type='radio' name='zone_shp' id='z2c' checked /> <label for='z2c'>Circle</label><br/>
                                <input type='radio' name='zone_shp' id='z2r'/> <label for='z2r'>Rectangle</label><br/>
                            Delete shape:<br/>
                            <select id='z2del'>
                                <option></option>
                                <option id='delall' value='-1'>Delete all</option>
                            </select>
                            </p>

                        </div>
                        <div class='col-sm-4'>
                            <p id='z3shpop' class='p-2'><strong>Zone 3</strong><br/>
                            Add shape:<br/>
                            <input type='radio' name='zone_shp' id='z3c'/> <label for='z3c'>Circle</label><br/>
                    <input type='radio' name='zone_shp' id='z3r'/> <label for='z3r'>Rectangle</label><br/>
                            Delete shape:<br/>
                            <select id='z3del'>
                                <option></option>
                                <option id='delall' value='-1'>Delete all</option>
                            </select>
                            </p>
                        </div>
                    </div>
                </div>

                <div id='draw_mode' class='col-12'>
                    <h4 class='l'>Draw Mode <small>[<a href='javascript:{}' onclick="DOT.toggleMode('shape')">Edit Zone Shapes Mode</a>]</small></h4>
                    <p>Draw by clicking or dragging the mouse on the canvas</p>
                    <p class='text-end'>Brush Width: <input id='brush_width' type='text' maxlength='3' value='1' /></p>
                    <p class='text-end'>Brush Lead in/out: <input id='brush_leadio' type='text' maxlength='3' value='20' /></p>
                </div>

                <div class='col-sm-6'>
                    <h4>Other Effects</h4>
                    
                    <div class="form-check form-switch">
                        <label class="form-check-label" for="toggle_targets">Hide target zones </label>
                        <input class="form-check-input" type="checkbox" role="switch" name="toggle_targets" id="toggle_targets">
                    </div>

                    <div class="form-check form-switch">
                        <label class="form-check-label" for="allow_overlap">Allow DOT overlap</label>
                        <input class="form-check-input" type="checkbox" role="switch" name="allow_overlap" id="allow_overlap">
                    </div>

                    <p>Delete DOTS:
                    <select id='deldots'>
                        <option></option>
                        <option value='-1'>all</option>
                        <option value='z1'>Zone 1</option>
                        <option value='z2'>Zone 2</option>
                        <option value='z3'>Zone 3</option>
                    </select>
                    </p>
                    <p><label for='bgcolour'>Background:</label> <input id='bgcolour' class='me-1' type='text' maxlength='6' value='ffffff' />
                    <a class='palicon' href='javascript:{}' onclick="openPalette('bgcolour')"><img src='palicon.png'/></a>
                    </p>
                </div>

                <div class='col-12'> </div>

                <div class='col-sm-6'>
                    <h4>Run</h4>
                    <p>
                    <label class='' for='dotnum'>Dots:</label>
                    <input id='dotnum' type='number' maxlength='6' size='6' value='500' />
                    <input type='submit' value='DOTify!' onclick="DOT.dotify(); return false;"/><br>
                    Process: <span id='dotifycomp'>Press 'DOTify' to start process.</span>
                    </p>
                </div>

                <div class='col-sm-6'>
                    <h4>Export</h4>
                    <input type="button" id="exportbutton" value="Download SVG file">
                </div>

                <div id='overlay_bg' class='col-12'>
                    <div id='overlay_palette'>
                        <p>Choose colour:</p>
                        <div id='svgpalPkg'>
                            <svg id='svgpal' viewbox='0 0 220 200' width='100%' style='background: white;'>
                                <defs>
                                <linearGradient id="bw-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:rgb(255,255,255); stop-opacity:1"/>
                                <stop offset="50%" style="stop-color:rgb(255,255,255); stop-opacity:0"/>
                                <stop offset="100%" style="stop-color:rgb(0,0,0); stop-opacity:1"/>
                                </linearGradient>
                                <linearGradient id="black-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:rgb(0,0,0); stop-opacity:1"/>
                                <stop offset="100%" style="stop-color:rgb(0,0,0); stop-opacity:0"/>
                                </linearGradient>
                                <linearGradient id="rainbow-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:rgb(255,0,0); stop-opacity:1"/>
                                <stop offset="17%" style="stop-color:rgb(255,255,0); stop-opacity:1"/>
                                <stop offset="33%" style="stop-color:rgb(0,255,0); stop-opacity:1"/>
                                <stop offset="50%" style="stop-color:rgb(0,255,255); stop-opacity:1"/>
                                <stop offset="66%" style="stop-color:rgb(0,0,255); stop-opacity:1"/>
                                <stop offset="83%" style="stop-color:rgb(255,0,255); stop-opacity:1"/>
                                <stop offset="100%" style="stop-color:rgb(255,0,0); stop-opacity:1"/>
                                </linearGradient>
                                </defs>
                                <rect x='0' y='0' width='200' height='200' style='fill:url(#rainbow-gradient)' />
                                <rect x='0' y='0' width='200' height='200' style='fill:url(#bw-gradient)' />
                                <rect x='200' y='0' width='21' height='200' style='fill:url(#black-gradient)' />
                            </svg>
                        </div>
                    </div>
                </div><!-- end of overlay_bg -->

                <div id='svgPkg' class='col-12 mb-5'>
                    <svg id='svgobj' viewbox="0 0 400 250" width="100%">
                        <style type="text/css">
/*start CSS*/
#z1, #z2, #z3 {stroke: none;fill: blue;}
#z1 {fill: #d99;}
#z2 {fill: #ff5;}
#z3 {fill: #339;}
/* end CSS */
                        </style>
                        <g id='bg_rect_g'>
                        <rect id='bg_rect' x='0' y='0' width='400' height='250' fill='white'/>
                        </g>
                        <g id='targetZone'>
                        <g id='z1'><rect x="32" y="55" width="323" height="133" /></g>
                        <g id='z2'><circle cx="192" cy="126" r="116" /></g>
                        <g id='z3'><rect x="168" y="26" width="50" height="201" /></g>
                        </g>
                        <g id='circle_graphics'>
                        <g id='dotsz1'></g>
                        <g id='dotsz2'></g>
                        <g id='dotsz3'></g>
                        </g>
                    </svg>
                </div><!-- end of svgPkg div -->


            </div>
        </div>

        <div class='container-fluid bg-dark text-light p-5'>
            <div class='row'>
                <div class='col'>
                    <pre><p id='outputParag'></p></pre>
                    Cyrille MdC 2010 - updated 2024
                </div>
            </div>
        </div>
        <script src='js/dotify.js'></script>
    </body>
</html>

